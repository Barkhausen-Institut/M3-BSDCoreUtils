add_executable(touch touch.c)

target_link_libraries(touch PRIVATE compat)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -D_GNU_SOURCE")

file(COPY ${CMAKE_CURRENT_SOURCE_DIR}/touch.1 DESTINATION ${CMAKE_CURRENT_BINARY_DIR})

INSTALL(TARGETS touch DESTINATION ${CMAKE_INSTALL_BINDIR})

INSTALL(FILES ${CMAKE_CURRENT_BINARY_DIR}/touch.1 DESTINATION ${CMAKE_INSTALL_PREFIX}/man/man1)
